
# Проект: ToDo-приложение (Go + PostgreSQL + Docker)

## Краткое описание

Данный проект — это REST API сервис для управления задачами (списками дел), реализованный на языке Go.
Система поддерживает регистрацию пользователей, авторизацию через JWT, создание списков и задач, а также хранение данных в PostgreSQL.

---

## Архитектура проекта

Проект реализован по принципам чистой архитектуры (Clean Architecture) и разделён на несколько слоёв:

- **Handler** — обработка HTTP-запросов (REST API).
- **Service** — бизнес-логика приложения.
- **Repository** — взаимодействие с базой данных PostgreSQL.
- **Models** — описание структур данных.
- **Config** — загрузка конфигураций из переменных окружения.

---

## Основной функционал

- Регистрация пользователей
- Авторизация через JWT
- Создание и удаление списков задач
- Добавление, обновление и удаление задач в списках
- Защищённый доступ к данным (только авторизованные пользователи видят свои списки)
- Хэширование паролей

---

## Технологический стек

- **Язык:** Go
- **База данных:** PostgreSQL
- **Docker + Docker Compose**
- **JWT авторизация**
- **Migrations:** SQL-файлы для инициализации БД
- **CI:** GitLab CI (через `.gitlab-ci.yml`)
- **Линтер:** golangci-lint

---

## Структура проекта

- `cmd/todo/main.go` — точка входа приложения
- `internal/handler/` — HTTP-хэндлеры
- `internal/service/` — бизнес-логика
- `internal/repository/` — работа с БД
- `internal/models/` — описания сущностей (User, TodoList, TodoItem)
- `internal/config/` — конфигурация сервиса
- `internal/server/` — запуск HTTP-сервера
- `db/migrations/` — SQL-миграции для создания таблиц

---

## Миграции базы данных

Миграции лежат в папке `db/migrations/`:

- `000001_init.up.sql` — создание таблиц пользователей, списков задач и самих задач.

---

## Переменные окружения

Пример необходимых переменных окружения:

```env
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=your_user
DB_PASSWORD=your_password
DB_NAME=your_db_name

SERVER_PORT=8080

TOKEN_SIGNING_KEY=your_secret_key
```

---

## Развёртывание проекта

### 1. Сборка Docker-образа

Перейти в корень проекта:

```bash
docker build -t todo-app .
```

### 2. Запуск через Docker Compose

Запуск приложения и базы данных командой:

```bash
docker-compose up --build
```

> Все настройки окружения уже прописаны в `docker-compose.yaml` и `.env` файле.

### 3. Запуск в режиме разработки (локально)

Запуск приложения без Docker:

```bash
go run cmd/todo/main.go
```

Не забудьте перед этим настроить подключение к базе данных и применить миграции.

---

## Структура базы данных

- Таблица пользователей (`users`)
- Таблица списков (`todo_lists`)
- Таблица задач (`todo_items`)

Каждая задача принадлежит определённому списку, который в свою очередь принадлежит конкретному пользователю.

---

## Документация API

API реализовано в REST стиле (GET, POST, PUT, DELETE).  
Эндпоинты интуитивно понятны: `/auth/sign-up`, `/auth/sign-in`, `/api/lists`, `/api/items` и т.д.

---

## Краткий комментарий для портфолио

- Это мой первый проект с использованием Go и микросервисных практик (чистая архитектура).
- Реализована безопасная авторизация, работа с БД, миграции, docker-сборка, тесты.
- Проект демонстрирует основы проектирования полноценного REST API.

---

## Контакты

Проект входит в моё портфолио. Исходный код хорошо структурирован и документирован.